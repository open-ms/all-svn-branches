<?xml version="1.0" encoding="ISO-8859-1"?>
<PARAMETERS version="1.3" xsi:noNamespaceSchemaLocation="http://open-ms.sourceforge.net/schemas/Param_1_3.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <NODE name="MapAligner" description="">
    <NODE name="1" description="Instance '1' section for 'MapAligner'">
      <ITEMLIST name="in" type="string" description="input files separated by blanks(valid formats: 'mzML,featureXML,idXML')" tags="input file">
      </ITEMLIST>
      <ITEMLIST name="out" type="string" description="output files separated by blanks(valid formats: 'mzML,featureXML,idXML')" tags="output file">
      </ITEMLIST>
      <ITEMLIST name="transformations" type="string" description="transformation output files separated by blanks" tags="output file">
      </ITEMLIST>
      <ITEM name="type" value="pose_clustering_affine" type="string" description="Map alignment algorithm type" restrictions="apply_given_trafo,pose_clustering_affine,spectrum_alignment" />
      <ITEMLIST name="given_transformations" type="string" description="given transformations separated by blanks. [This is a workaround used by algorithm type apply_given_trafo until StringList is supported by INIFileEditor.](valid formats: 'trafoXML')" tags="input file">
      </ITEMLIST>
      <ITEM name="log" value="TOPP.log" type="string" description="Location of the log file" tags="advanced" />
      <ITEM name="debug" value="0" type="int" description="Sets the debug level" tags="advanced" />
      <ITEM name="threads" value="1" type="int" description="Sets the number of threads allowed to be used by the TOPP tool" />
      <ITEM name="no_progress" value="false" type="string" description="Disables progress logging to command line" restrictions="true,false" />
      <ITEM name="test" value="false" type="string" description="Enables the test mode (needed for software testing only)" tags="advanced" restrictions="true,false" />
      <NODE name="algorithm" description="Algorithm parameters section">
        <ITEM name="symmetric_regression" value="true" type="string" description="If true, linear regression will be based on (y-x) versus (x+y).#br#If false, a 'standard' linear regression will be performed for y versus x." restrictions="true,false" />
        <ITEM name="max_num_peaks_considered" value="400" type="int" description="The maximal number of peaks to be considered per map.  This cutoff is only applied to peak maps." />
        <NODE name="superimposer" description="">
          <ITEM name="mz_pair_max_distance" value="0.5" type="float" description="Maximum of m/z deviation of corresponding elements in different maps.  This condition applies to the pairs considered in hashing." />
          <ITEM name="rt_pair_distance_fraction" value="0.1" type="float" description="Within each of the two maps, the pairs considered for pose clustering must be separated by at least this fraction of the total elution time interval (i.e., max - min).  " tags="advanced" />
          <ITEM name="num_used_points" value="-1" type="int" description="Maximum number of elements considered in each map (selected by intensity).  Use this to reduce the running time and to disregard weak signals during alignment.  For using all points, set this to -1." />
          <ITEM name="scaling_bucket_size" value="0.005" type="float" description="The scaling of the retention time interval is being hashed into buckets of this size during pose clustering.  A good choice for this would be a bit smaller than the error you would expect from repeated runs." />
          <ITEM name="shift_bucket_size" value="3" type="float" description="The shift at the lower (respectively, higher) end of the retention time interval is being hashed into buckets of this size during pose clustering.  A good choice for this would be about the time between consecutive MS scans." />
          <ITEM name="max_shift" value="1000" type="float" description="Maximal shift which is considered during histogramming.  This applies for both directions." tags="advanced" />
          <ITEM name="max_scaling" value="2" type="float" description="Maximal scaling which is considered during histogramming.  The minimal scaling is the reciprocal of this." tags="advanced" />
          <ITEM name="dump_buckets" value="" type="string" description="[DEBUG] If non-empty, base filename where hash table buckets will be dumped to.  A serial number for each invocation will be added automatically." tags="advanced" />
          <ITEM name="dump_pairs" value="" type="string" description="[DEBUG] If non-empty, base filename where the individual hashed pairs will be dumped to (large!).  A serial number for each invocation will be added automatically." tags="advanced" />
        </NODE>
        <NODE name="pairfinder" description="">
          <ITEM name="intensity_exponent" value="0.5" type="float" description="Intensity ratios are raised to this power.  If set to 0, intensities are not considered." tags="advanced" />
          <ITEM name="second_nearest_gap" value="2" type="float" description="The distance for the second nearest neighbors must be larger by this factor than the distance for the matching pair itself" />
          <ITEM name="different_charge_penalty" value="1" type="float" description="If charge states are different, distance is multiplied by this factor.  If set to 1, charge has no influence." />
          <NODE name="diff_exponent" description="Absolute position differences are raised to this power. E.g. 1 for 'linear' distance, 2 for 'quadratic' distance">
            <ITEM name="RT" value="1" type="float" description="RT differences are raised to this power" tags="advanced" />
            <ITEM name="MZ" value="2" type="float" description="MZ differences are raised to this power" tags="advanced" />
          </NODE>
          <NODE name="max_pair_distance" description="Maximal allowed distance for a pair. This uses the sum of the distances in (1.) RT, (2.) MZ, and (3.) the ratio of intensities, (after modification by the corresponding diff_exponent and the intensity_exponent), and (4.) whether the charge states are equal.">
            <ITEM name="RT" value="100" type="float" description="Maximal allowed distance in RT for a pair, when MZ is equal" />
            <ITEM name="MZ" value="0.3" type="float" description="Maximal allowed distance in MZ for a pair, when RT is equal" />
          </NODE>
        </NODE>
      </NODE>
    </NODE>
  </NODE>
</PARAMETERS>
